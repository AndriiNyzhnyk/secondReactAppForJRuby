<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>React Game</title>
    <link rel="stylesheet" type="text/css" href="css/normalize.css">
    <link rel="stylesheet" type="text/css" href="css/style.css">
</head>
<body>

<div id="content"></div>

<script src="https://cdnjs.cloudflare.com/ajax/libs/es5-shim/4.5.7/es5-shim.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/es5-shim/4.5.7/es5-sham.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/json3/3.3.2/json3.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/es6-shim/0.34.2/es6-shim.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/es6-shim/0.34.2/es6-sham.min.js"></script>
<script src="https://wzrd.in/standalone/es7-shim@latest"></script>
<script crossorigin src="https://unpkg.com/react@16/umd/react.production.min.js"></script>
<script crossorigin src="https://unpkg.com/react-dom@16/umd/react-dom.production.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/babel-standalone/6.25.0/babel.min.js"></script>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>


<script type="text/babel">

    class Main extends React.Component {
        constructor(props) {
            super(props);
            this.state = {
                init: false,
                userName: '',
                images: [
                    'img/adium.png',
                    'img/freebsd.png',
                    'img/thebat.png',
                    'img/evernote.png',
                    'img/linux.png',
                    'img/firefox.png',
                    'img/adium.png',
                    'img/monkeys.png',
                    'img/evernote.png',
                    'img/firefox.png',
                    'img/freebsd.png',
                    'img/linux.png',
                    'img/twitter.png',
                    'img/monkeys.png',
                    'img/thebat.png',
                    'img/twitter.png'
                ]
            };
        };

        setDataUser = () => {
            const userName = $('#name').val();
            $('#name').val('');
            console.log(userName);
            this.setState({
                init: true,
                userName: userName
            });
        };

        startGame = (item, index) => {
            console.log('forEach');
            return (
                <Game img={item} key={index} />
            );
        };

        welcome = () => {
            return (
                <div id="welcome">
                    <h3>Введіть своє ім'я</h3>
                    <textarea required wrap="off" id="name"
                              placeholder="Ваше ім'я"></textarea><br />
                    <button onClick={this.setDataUser} id="newGame">Почати гру</button>
                </div>
            )
        };

        render = () => {
            if(!this.state.init) {
                console.log('welcome');
                return this.welcome();
            } else {
                return this.state.images.map(this.startGame);
            }
        }
    }

    class Game extends React.Component {
        render() {
            return (
                <div className="block">
                    {console.log(this.props.img)}
                    <img src={this.props.img} alt="animal"></img>
                </div>
            )
        }
    }

    ReactDOM.render(<Main/>, document.getElementById("content"));

</script>

</body>
</html>